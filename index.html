<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deloitte Dual-Use Challenge</title>
    <style>
        body { font-family: 'Open Sans', Arial, sans-serif; background-color: #000; color: #fff; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        #game-container { background: #111; width: 90%; max-width: 450px; padding: 30px; border-radius: 4px; border-top: 6px solid #86bc25; text-align: center; }
        .logo-outer { width: 100%; max-width: 160px; margin: 0 auto 25px auto; }
        #logo { width: 100%; height: auto; display: block; }
        .hidden { display: none !important; }
        input { width: 100%; padding: 12px; margin: 8px 0; background: #222; border: 1px solid #444; color: #fff; }
        button { width: 100%; padding: 15px; border: none; background: #86bc25; color: #000; font-weight: bold; cursor: pointer; margin-top: 15px; }
        #product-img { width: 100%; height: 250px; object-fit: contain; background: #000; }
        .btn-box { display: flex; justify-content: space-between; margin-top: 10px; }
        table { width: 100%; margin-top: 20px; border-collapse: collapse; text-align: left; font-size: 0.9rem; }
        th, td { padding: 8px; border-bottom: 1px solid #333; }
    </style>
</head>
<body>

<div id="game-container">
    <div class="logo-outer">
        <img src="images/logo2.png" alt="Deloitte Logo" id="logo">
    </div>

    <div id="reg-screen">
        <h2>Dual-Use Challenge</h2>
        <input type="text" id="reg-name" placeholder="Full Name">
        <input type="text" id="reg-company" placeholder="Company">
        <input type="text" id="reg-role" placeholder="Role">
        <input type="email" id="reg-email" placeholder="Email Address">
        <button onclick="handleRegistration()">START GAME</button>
    </div>

    <div id="game-content" class="hidden">
        <div style="display:flex; justify-content:space-between; color:#86bc25;">
            <div id="timer">Time: 60</div>
            <div id="score">Score: 0</div>
        </div>
        <img id="product-img" src="">
        <h3 id="product-name"></h3>
        <div class="btn-box">
            <button onclick="handleSwipe(false)" style="background:#444; color:#fff; width:48%">CONSUMER</button>
            <button onclick="handleSwipe(true)" style="width:48%">DUAL-USE</button>
        </div>
    </div>

    <div id="results-screen" class="hidden">
        <h2>Leaderboard</h2>
        <p id="final-stats"></p>
        <div id="loading-msg">Fetching scores...</div>
        <table id="leaderboard-table" class="hidden">
            <thead><tr><th>Rank</th><th>Name</th><th>Score</th></tr></thead>
            <tbody id="leader